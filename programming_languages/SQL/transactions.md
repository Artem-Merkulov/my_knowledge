# Транзакции

### Автономная транзакция

Автономная транзакция — это транзакция, которая выполняется независимо от другой транзакции, в рамках которой она была инициирована. Это означает, что автономная транзакция может быть завершена (зафиксирована или отменена) независимо от состояния основной транзакции. В Oracle вы можете использовать автономные транзакции для выполнения действий, которые не должны зависеть от результатов основной транзакции.

**Основные характеристики автономной транзакции:**

1. **Независимость**: Автономные транзакции могут фиксироваться или отменяться независимо от основной транзакции. Если основная транзакция откатывается, автономные изменения, выполненные в рамках автономной транзакции, останутся в базе данных, если они были зафиксированы.

2. **Использование**: Автономные транзакции часто используются для ведения журналов, аудита или других задач, которые должны быть завершены, даже если основная транзакция не удалась.

3. **Синтаксис**: В PL/SQL для создания автономной транзакции используется директива `PRAGMA AUTONOMOUS_TRANSACTION`. Пример использования:

   ```sql
   DECLARE
       PRAGMA AUTONOMOUS_TRANSACTION; -- Начало автономной транзакции
   BEGIN
       -- Ваши операции с базой данных
       INSERT INTO log_table (log_message) VALUES ('Some log message');
       COMMIT; -- Завершение автономной транзакции
   END;
   ```

4. **Ограничения**: Важно отметить, что автономные транзакции имеют некоторые ограничения. Например, они не могут использоваться для управления курсорами и не могут обращаться к параметрам, переданным в основную транзакцию.

**Применение**

Автономные транзакции полезны в сценариях, где необходимо записывать результаты или события, которые не должны зависеть от основной логики приложения. Например, если возникает ошибка в основной транзакции, но вы хотите зафиксировать информацию об ошибке в журнале, вы можете использовать автономную транзакцию для этого.

**Заключение**

Автономные транзакции предоставляют гибкость в управлении транзакциями в Oracle, позволяя выполнять операции, которые не должны быть отменены в случае неудачи основной транзакции.